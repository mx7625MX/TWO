# æµ‹è¯•æŒ‡å—

## æµ‹è¯•ç»“æ„

æœ¬é¡¹ç›®åŒ…å«ä¸¤å¥—æµ‹è¯•æ–‡ä»¶ï¼š

### 1. å¿«é€Ÿæµ‹è¯• (quick-test.ts)
- **è·¯å¾„**: `src/tests/quick-test.ts`
- **ç‰¹ç‚¹**: ä¸ä¾èµ–ç½‘ç»œï¼Œçº¯æœ¬åœ°æµ‹è¯•
- **è¿è¡Œæ—¶é—´**: < 5 ç§’
- **æµ‹è¯•æ•°é‡**: 10 ä¸ªæµ‹è¯•

### 2. ç»¼åˆæµ‹è¯• (wallet-manager.test.ts)
- **è·¯å¾„**: `src/tests/wallet-manager.test.ts`
- **ç‰¹ç‚¹**: åŒ…å«ç½‘ç»œæµ‹è¯•ï¼Œéœ€è¦ RPC è¿æ¥
- **è¿è¡Œæ—¶é—´**: 30-60 ç§’ï¼ˆå–å†³äºç½‘ç»œï¼‰
- **æµ‹è¯•æ•°é‡**: 15 ä¸ªæµ‹è¯•
- **é‡è¯•æœºåˆ¶**: ç½‘ç»œæµ‹è¯•è‡ªåŠ¨é‡è¯•æœ€å¤š 3 æ¬¡

## è¿è¡Œæµ‹è¯•

### æœ¬åœ°å¼€å‘

```bash
# å¿«é€Ÿæµ‹è¯•ï¼ˆæ¨èä¼˜å…ˆè¿è¡Œï¼‰
npx tsx src/tests/quick-test.ts

# ç»¼åˆæµ‹è¯•ï¼ˆéœ€è¦ç½‘ç»œè¿æ¥ï¼‰
npx tsx src/tests/wallet-manager.test.ts
```

### CI/CD é›†æˆ

æ¨èåœ¨ CI/CD æµç¨‹ä¸­è¿è¡Œå¿«é€Ÿæµ‹è¯•ä½œä¸ºé—¨æ§ï¼š

```yaml
# .github/workflows/test.yml ç¤ºä¾‹
name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm install
      - run: npx tsx src/tests/quick-test.ts
```

## æµ‹è¯•è¦†ç›–ç‡

### âœ… å·²è¦†ç›–åŠŸèƒ½

#### é’±åŒ…åˆ›å»º
- [x] BSC é’±åŒ…åˆ›å»º
- [x] Solana é’±åŒ…åˆ›å»º
- [x] åœ°å€æ ¼å¼éªŒè¯
- [x] ç§é’¥æ ¼å¼éªŒè¯

#### é’±åŒ…å¯¼å…¥
- [x] BSC ç§é’¥å¯¼å…¥
- [x] Solana ç§é’¥å¯¼å…¥
- [x] åŠ©è®°è¯å¯¼å…¥ï¼ˆBSCï¼‰
- [x] åŠ©è®°è¯å¯¼å…¥ï¼ˆSolanaï¼‰
- [x] åŠ©è®°è¯ä¸€è‡´æ€§éªŒè¯

#### åŠ å¯†ä¸å®‰å…¨
- [x] AES-256 åŠ å¯†
- [x] åŠ å¯†ç§é’¥è§£å¯†
- [x] é”™è¯¯å¯†ç æ‹’ç»
- [x] å¯†ç å¼ºåº¦éªŒè¯ï¼ˆ4 çº§ï¼‰

#### ä½™é¢æŸ¥è¯¢
- [x] BSC ä½™é¢æŸ¥è¯¢
- [x] Solana ä½™é¢æŸ¥è¯¢
- [x] WalletManager ä½™é¢æŸ¥è¯¢
- [x] æ‰¹é‡ä½™é¢æŸ¥è¯¢

#### å·¥å…·å‡½æ•°
- [x] åœ°å€éªŒè¯ï¼ˆBSC + Solanaï¼‰
- [x] ä½™é¢æ ¼å¼åŒ–
- [x] ç½‘ç»œè¯·æ±‚é‡è¯•æœºåˆ¶

#### é”™è¯¯å¤„ç†
- [x] æ— æ•ˆç½‘ç»œç±»å‹
- [x] æ— æ•ˆåœ°å€æ ¼å¼
- [x] åŠ å¯†è§£å¯†é”™è¯¯
- [x] ç½‘ç»œè¯·æ±‚è¶…æ—¶

## æµ‹è¯•æœ€ä½³å®è·µ

### 1. æµ‹è¯•é¡ºåº

```bash
# å¼€å‘æ—¶æ¨èé¡ºåº
1. npx tsx src/tests/quick-test.ts      # æœ¬åœ°å¿«é€ŸéªŒè¯
2. npx tsx src/tests/wallet-manager.test.ts  # å®Œæ•´åŠŸèƒ½éªŒè¯
```

### 2. è°ƒè¯•å¤±è´¥çš„æµ‹è¯•

å½“æµ‹è¯•å¤±è´¥æ—¶ï¼š

```typescript
// æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
console.log('è°ƒè¯•ä¿¡æ¯:', error.message, error.stack)

// å•ç‹¬è¿è¡Œå¤±è´¥çš„æµ‹è¯•
// åœ¨æµ‹è¯•æ–‡ä»¶ä¸­æ³¨é‡Šæ‰å…¶ä»–æµ‹è¯•ï¼Œåªè¿è¡Œç›®æ ‡æµ‹è¯•
```

### 3. ç½‘ç»œæµ‹è¯•æ³¨æ„äº‹é¡¹

- âœ… ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®š
- âœ… ä½¿ç”¨å…¬å¼€çš„æµ‹è¯•åœ°å€ï¼ˆæœ‰ä½™é¢ï¼‰
- âœ… é…ç½®é‡è¯•æœºåˆ¶é¿å…å¶å‘å¤±è´¥
- âœ… è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´ï¼ˆ10 ç§’ï¼‰

### 4. å¯†ç ç®¡ç†

æ‰€æœ‰æµ‹è¯•ä½¿ç”¨ç»Ÿä¸€çš„æµ‹è¯•å¯†ç ï¼š`'test_password_123'`

```typescript
// âœ… æ­£ç¡®
const manager = new WalletManager('test_password_123')

// âŒ é”™è¯¯
const manager = new WalletManager() // ç¼ºå°‘å¿…éœ€çš„å¯†ç å‚æ•°
```

## æµ‹è¯•ç¯å¢ƒé…ç½®

### ä¾èµ–é¡¹

```json
{
  "devDependencies": {
    "tsx": "^4.x",
    "typescript": "^5.x"
  }
}
```

### RPC èŠ‚ç‚¹

æµ‹è¯•ä½¿ç”¨å…¬å…± RPC èŠ‚ç‚¹ï¼š

- **BSC**: `https://bsc-dataseed1.binance.org`
- **Solana**: `https://api.mainnet-beta.solana.com`

âš ï¸ å…¬å…±èŠ‚ç‚¹å¯èƒ½æœ‰é€Ÿç‡é™åˆ¶ï¼Œé‡è¯•æœºåˆ¶å¯ä»¥ç¼“è§£æ­¤é—®é¢˜ã€‚

## æµ‹è¯•ç»“æœç¤ºä¾‹

### å¿«é€Ÿæµ‹è¯•æˆåŠŸè¾“å‡º

```
ğŸ§ª å¼€å§‹é’±åŒ…ç®¡ç†å¿«é€Ÿæµ‹è¯•

æµ‹è¯•1: åˆ›å»ºBSCé’±åŒ…
âœ… é€šè¿‡ - åœ°å€: 0x...

æµ‹è¯•2: åˆ›å»ºSolanaé’±åŒ…
âœ… é€šè¿‡ - åœ°å€: ...

...

ğŸ“Š æµ‹è¯•ç»“æœ
æ€»è®¡: 10
é€šè¿‡: 10 âœ…
å¤±è´¥: 0 âŒ
æˆåŠŸç‡: 100.00%

ğŸ‰ æ‰€æœ‰æœ¬åœ°æµ‹è¯•é€šè¿‡ï¼
```

## æ‰©å±•æµ‹è¯•

### æ·»åŠ æ–°æµ‹è¯•

```typescript
// src/tests/quick-test.ts
console.log('\næµ‹è¯•11: æ–°åŠŸèƒ½æµ‹è¯•')
try {
  const manager = new WalletManager('test_password_123')
  
  // æµ‹è¯•é€»è¾‘
  const result = await manager.newFeature()
  
  // æ–­è¨€
  if (!result) throw new Error('æµ‹è¯•å¤±è´¥')
  
  console.log('âœ… é€šè¿‡')
  passed++
} catch (error: any) {
  console.error('âŒ å¤±è´¥:', error.message)
  failed++
}
```

### ç½‘ç»œæµ‹è¯•æ·»åŠ é‡è¯•

```typescript
// ä½¿ç”¨ withRetry åŒ…è£…ç½‘ç»œè¯·æ±‚
const result = await withRetry(
  () => someNetworkOperation(),
  3,  // æœ€å¤šé‡è¯• 3 æ¬¡
  1000  // æ¯æ¬¡é—´éš” 1 ç§’
)
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ¨¡å—å¯¼å…¥é”™è¯¯**
   ```
   Error: Cannot find module
   ```
   è§£å†³ï¼šç¡®ä¿ä½¿ç”¨ `tsx` è€Œä¸æ˜¯ `ts-node`

2. **ç½‘ç»œè¶…æ—¶**
   ```
   Error: ä½™é¢æŸ¥è¯¢è¶…æ—¶
   ```
   è§£å†³ï¼šæ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œé‡è¯•æœºåˆ¶ä¼šè‡ªåŠ¨å¤„ç†

3. **ç±»å‹é”™è¯¯**
   ```
   Error: åº”æœ‰ 1 ä¸ªå‚æ•°ï¼Œä½†è·å¾— 0 ä¸ª
   ```
   è§£å†³ï¼šæ£€æŸ¥ WalletManager æ„é€ å‡½æ•°æ˜¯å¦æä¾›å¯†ç å‚æ•°

## æŒç»­æ”¹è¿›

### å¾…æ·»åŠ çš„æµ‹è¯•

- [ ] æ•°æ®åº“æ“ä½œæµ‹è¯•ï¼ˆCRUDï¼‰
- [ ] IPC é€šä¿¡æµ‹è¯•
- [ ] UI ç»„ä»¶æµ‹è¯•
- [ ] ç«¯åˆ°ç«¯æµ‹è¯•
- [ ] æ€§èƒ½æµ‹è¯•ï¼ˆæ‰¹é‡æ“ä½œï¼‰
- [ ] å®‰å…¨æµ‹è¯•ï¼ˆSQL æ³¨å…¥ã€XSS ç­‰ï¼‰

### æµ‹è¯•æŒ‡æ ‡ç›®æ ‡

- **ä»£ç è¦†ç›–ç‡**: > 80%
- **æµ‹è¯•é€šè¿‡ç‡**: 100%
- **æµ‹è¯•æ‰§è¡Œæ—¶é—´**: å¿«é€Ÿæµ‹è¯• < 5sï¼Œå®Œæ•´æµ‹è¯• < 60s
- **é‡è¯•æˆåŠŸç‡**: > 95%

## å‚è€ƒèµ„æº

- [TypeScript Testing Best Practices](https://github.com/goldbergyoni/javascript-testing-best-practices)
- [Electron Testing Guide](https://www.electronjs.org/docs/latest/tutorial/testing)
- [Crypto Testing Patterns](https://github.com/openzeppelin/openzeppelin-contracts/tree/master/test)

---

**æœ€åæ›´æ–°**: 2026-01-17
**ç»´æŠ¤è€…**: TWO å¼€å‘å›¢é˜Ÿ
